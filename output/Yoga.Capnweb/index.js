// Generated by purs version 0.15.15
import * as $foreign from "./foreign.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Promise from "../Control.Promise/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as Unsafe_Coerce from "../Unsafe.Coerce/index.js";
var liftEffect = /* #__PURE__ */ Effect_Class.liftEffect(Effect_Aff.monadEffectAff);
var bind = /* #__PURE__ */ Control_Bind.bind(Effect_Aff.bindAff);
var pure = /* #__PURE__ */ Control_Applicative.pure(Effect_Aff.applicativeAff);
var map = /* #__PURE__ */ Data_Functor.map(Effect_Aff.functorAff);
var dup = $foreign.dupImpl;
var disposeStub = $foreign.disposeStubImpl;
var dispose = $foreign.disposeImpl;
var connect = $foreign.connectImpl;
var withSession = function (url) {
    return Effect_Aff.bracket(liftEffect(connect(url)))(function ($5) {
        return liftEffect(dispose($5));
    });
};
var callWithCallback = function (session) {
    return function (method) {
        return function (callback) {
            return bind(Control_Promise.toAff($foreign.callWithCallbackImpl(session, method, callback)))(function () {
                return pure(Data_Unit.unit);
            });
        };
    };
};
var call2 = function (session) {
    return function (method) {
        return function (a) {
            return function (b) {
                return map(Unsafe_Coerce.unsafeCoerce)(Control_Promise.toAff($foreign.call2Impl(session, method, a, b)));
            };
        };
    };
};
var call1 = function (session) {
    return function (method) {
        return function (a) {
            return map(Unsafe_Coerce.unsafeCoerce)(Control_Promise.toAff($foreign.call1Impl(session, method, a)));
        };
    };
};
var call0 = function (session) {
    return function (method) {
        return map(Unsafe_Coerce.unsafeCoerce)(Control_Promise.toAff($foreign.call0Impl(session, method)));
    };
};
var call = function (session) {
    return function (method) {
        return function (args) {
            return Control_Promise.toAff($foreign.callImpl(session, method, args));
        };
    };
};
export {
    connect,
    dispose,
    dup,
    disposeStub,
    withSession,
    call,
    call0,
    call1,
    call2,
    callWithCallback
};
//# sourceMappingURL=index.js.map
